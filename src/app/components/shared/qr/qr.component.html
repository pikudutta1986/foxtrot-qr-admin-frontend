<div class="row" class="bg-white">
    <form [formGroup]="qrForm" (ngSubmit)="upload()" method="post" class="d-flex" >
        <div class="col-sm-6 d-grid my-3 mx-1 p-3">
            <div class="col-md-12">
                <!-- <mat-toolbar *ngIf="currentFile" class="progress-bar">
                    <mat-progress-bar color="accent" [value]="progress"></mat-progress-bar>
                    <span class="progress">{{ progress }}%</span>
                </mat-toolbar> -->
                <div
                    class="progress-bar progress-bar-info progress-bar-striped"
                    role="progressbar"
                    attr.aria-valuenow="{{ progress }}"
                    aria-valuemin="0"
                    aria-valuemax="100"
                    [ngStyle]="{ width: progress + '%' }"
                >
                    {{ progress }}%
                </div>
            </div>

            <div class="col-md-12 d-flex">
                <div class="col-md-6">
                    <mat-form-field appearance="fill">
                        <mat-label>Select</mat-label>
                        <mat-select formControlName="qrtype">
                          <mat-option value="Website">Website</mat-option>
                          <mat-option value="Email">Email</mat-option>
                          <mat-option value="Mobile">Mobile</mat-option>
                        </mat-select>
                      </mat-form-field>
                </div>
                <div class="col-md-6">
                    <mat-form-field appearance="fill" class="w">
                        <mat-label>Text</mat-label>
                        <input matInput formControlName="text">
                    </mat-form-field>
                </div>               
            </div>
            <div class="col-md-12">
                <mat-form-field style="width: 100%;">
                    <mat-label>Image</mat-label>
                    <button mat-icon-button matPrefix (click)="f_input.click()">
                        <mat-icon>attach_file</mat-icon>
                    </button>
                    <input type="text" readonly matInput [value]="fileName"/>
                    <input type="file" #f_input hidden formControlName="image" (change)="selectFile($event)"
                    name="fileInput"/>
                    <mat-error *ngIf="imageError && imageError.length > 0">
                        <strong>{{ imageError }}</strong>
                    </mat-error>
                </mat-form-field>
            </div>
            <button mat-flat-button color="primary" [disabled]="!qrForm.valid">
                Generate
            </button>
        </div>
        <div class="col-sm-6 my-3 mx-1 p-3 view">            
            <img #imgUpload class="uploadImg" height="250" />
        </div>
    </form>
</div>